$(document).ready(function(){var e=$(window),t=new ScrollMagic.Controller,n=$("[data-parallax]");e.width()>=768&&$.each(n,function(){var e=(new TimelineMax).add([TweenMax.fromTo($(this).find(".parallax--background"),1,{scale:1.2,y:-200},{y:0,ease:Linear.easeNone}),TweenMax.fromTo($(this).find(".parallax--text"),1,{y:150},{y:0,ease:Linear.easeNone}),TweenMax.fromTo($(this).find(".parallax--img"),1,{y:-100},{y:200,ease:Linear.easeNone})]);console.log($(this));new ScrollMagic.Scene({triggerElement:this,triggerHook:1,duration:"200%"}).setTween(e).addTo(t)}),t.scrollTo(function(t){e.width()>=768?TweenMax.to(window,.75,{scrollTo:{y:t}}):TweenMax.to(window,.75,{scrollTo:{y:t-$(".nav").height()}})});var a=$('a.nav--link[href^="#"]');$.each(a,function(e){console.log($(this).attr("href").toString()),new ScrollMagic.Scene({triggerElement:$(this).attr("href"),duration:$("section").height()}).setClassToggle("a.nav--link[href='"+$(this).attr("href")+"']","active").addTo(t)}),$(document).on("click","a.nav--link[href^='#']",function(e){var n=$(this).attr("href");$(".nav").find(".active").removeClass("active"),$(this).addClass("active"),$(n).length>0&&(e.preventDefault(),t.scrollTo(n),window.history&&window.history.pushState&&history.pushState("",document.title,n))}),new ScrollMagic.Scene({triggerElement:document.querySelector('[data-animation="counter"]'),triggerHook:1}).on("enter",function(){$(".count").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:$(this).data("duration"),easing:"swing",step:function(e){$(this).text(Math.ceil(e))}})})}).addTo(t);var o=$(".grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0});o.imagesLoaded().progress(function(){o.masonry("layout")}),$(".nav--burger").on("click",function(){$(this).toggleClass("active"),$(this).parent().find(".nav--collapse").slideToggle(250),$(".nav--full-screen").toggleClass("active")});for(var i=document.querySelectorAll("section.panel"),r=0;r<i.length;r++)new ScrollMagic.Scene({triggerElement:i[r],triggerHook:"onLeave"}).setPin(i[r]).addIndicators().addTo(t);var l=$("#intro").data("vide");l.getVideoObject().play(),$(window).on("resize",function(){l.resize()})});